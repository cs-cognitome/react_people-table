{"version":3,"sources":["Person.js","PeopleTable.js","PeoplePage.js","App.js","index.js"],"names":["Person","_ref","person","history","useHistory","location","useLocation","react_default","a","createElement","onClick","push","pathname","concat","name","replace","search","className","id","born","sex","died","father","mother","age","century","PeopleTable","people","setSortingByParams","map","src_Person","key","PeoplePage","_useState","useState","_useState2","Object","slicedToArray","setPeople","useEffect","fetch","then","response","json","peopleFromServer","index","objectSpread2","Math","ceil","searchParams","URLSearchParams","query","get","shownPeople","toConsumableArray","filter","toLowerCase","includes","Fragment","type","placeholder","value","onChange","event","set","target","toString","src_PeopleTable","params","sort","b","localeCompare","App","react_router_dom","to","exact","react_router","path","render","component","ReactDOM","src_App_0","test","document","getElementById"],"mappings":"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","file":"static/js/main.1b0cb295.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation, useHistory } from 'react-router-dom';\n\nconst Person = ({ person }) => {\n  const history = useHistory();\n  const location = useLocation();\n\n  const handleNameChange = () => {\n    history.push({\n      pathname: `/people/${person.name.replace(/\\s/g, '_')}`,\n      search: location.search,\n    });\n  };\n\n  return (\n    <tr onClick={handleNameChange}>\n      <td className=\"people__table-items people__table-items-id\">\n        {person.id}\n      </td>\n      <td className={person.born < 1650\n        ? 'born-before-1650'\n        : 'people__table-items'}\n      >\n        {person.name}\n      </td>\n      <td className={person.sex === 'f' ? 'female' : 'male'}>\n        {person.sex}\n      </td>\n      <td className=\"people__table-items\">{person.born}</td>\n      <td className=\"people__table-items\">{person.died}</td>\n      <td className=\"people__table-items\">{person.father}</td>\n      <td className=\"people__table-items\">{person.mother}</td>\n      <td className={person.age >= 65\n        ? 'high-longevity'\n        : 'people__table-items'}\n      >\n        {person.age}\n      </td>\n      <td className=\"people__table-items\">{person.century}</td>\n    </tr>\n  );\n};\n\nexport default Person;\n\nPerson.propTypes = {\n  person: PropTypes.objectOf(\n    PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ])\n  ).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Person from './Person';\n\nconst PeopleTable = ({ people, setSortingByParams }) => (\n  <table className=\"people__table\">\n    <tr>\n      <th\n        className=\"people__table-rows\"\n        onClick={() => setSortingByParams('id')}\n      >\nID\n      </th>\n      <th\n        className=\"people__table-rows\"\n        onClick={() => setSortingByParams('name')}\n      >\nName\n      </th>\n      <th\n        className=\"people__table-rows\"\n        onClick={() => setSortingByParams('sex')}\n      >\nSex\n      </th>\n      <th\n        className=\"people__table-rows\"\n        onClick={() => setSortingByParams('born')}\n      >\nBorn\n      </th>\n      <th\n        className=\"people__table-rows\"\n        onClick={() => setSortingByParams('died')}\n      >\nDied\n      </th>\n      <th className=\"people__table-rows\"> Father </th>\n      <th className=\"people__table-rows\"> Mother </th>\n      <th\n        className=\"people__table-rows\"\n        onClick={() => setSortingByParams('age')}\n      >\nAge\n      </th>\n      <th\n        className=\"people__table-rows\"\n        onClick={() => setSortingByParams('century')}\n      >\nCentury\n      </th>\n    </tr>\n    <tbody>\n      {people.map(person => (\n        <Person person={person} key={person.id} />\n      ))}\n    </tbody>\n  </table>\n);\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n  setSortingByParams: PropTypes.func.isRequired,\n};\n\nexport default PeopleTable;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PeopleTable from './PeopleTable';\n\nconst PEOPLE_FROM_SERVER_API\n  = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nconst getPeopleFromServer = () => fetch(PEOPLE_FROM_SERVER_API)\n  .then(response => response.json());\n\nconst PeoplePage = () => {\n  const [people, setPeople] = useState([]);\n\n  useEffect(() => {\n    getPeopleFromServer().then((peopleFromServer) => {\n      setPeople(\n        peopleFromServer.map((person, index) => ({\n          ...person,\n          id: index + 1,\n          age: person.died - person.born,\n          century: Math.ceil(person.died / 100),\n        }))\n      );\n    });\n  }, []);\n\n  const setSortingByParams = (params) => {\n    switch (params) {\n      case 'name':\n      case 'sex':\n        setPeople(people\n          .sort((a, b) => a[params].localeCompare(b[params])));\n        break;\n      case 'born':\n      case 'died':\n      case 'age':\n      case 'century':\n        setPeople(people\n          .sort((a, b) => a[params] - b[params]));\n        break;\n      default:\n        setPeople(people);\n    }\n\n    searchParams.set('sortBy', searchParams);\n    history.push({\n      search: searchParams.toString(),\n    });\n  };\n\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const query = searchParams.get('query') || '';\n\n  const filteredPeople = () => ([...people]\n    .filter(person => (person.name + person.mother + person.father)\n      .toLowerCase().includes(query)));\n\n  const shownPeople = query ? filteredPeople() : [...people];\n\n  return (\n    <>\n      <input\n        type=\"text\"\n        placeholder=\"Search...\"\n        className=\"input\"\n        value={query}\n        // make a separate function\n        onChange={(event) => {\n          searchParams.set('query', event.target.value);\n          history.push({\n            search: searchParams.toString(),\n          });\n        }}\n      />\n      <PeopleTable\n        setSortingByParams={setSortingByParams}\n        people={shownPeople}\n      />\n    </>\n  );\n};\n\nexport default PeoplePage;\n","import React from 'react';\nimport { NavLink, Route, Switch, HashRouter } from 'react-router-dom';\nimport PeoplePage from './PeoplePage';\nimport './App.css';\n\nconst App = () => (\n  <div className=\"App\">\n    <HashRouter>\n      <h1 className=\"title\">People table</h1>\n      <NavLink className=\"nav-link\" to=\"/\" exact>\n        Home\n      </NavLink>\n      <NavLink className=\"nav-link\" to=\"/people\">PeopleTable</NavLink>\n      <Switch>\n        <Route\n          path=\"/\"\n          exact\n          render={() => (\n            <div>\n              <h1 className=\"home\">Home</h1>\n              <div className=\"image\" />\n            </div>\n          )}\n        />\n        <Route path=\"/people/:personName?\" component={PeoplePage} />\n      </Switch>\n    </HashRouter>\n\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App test={123} />, document.getElementById('root'));\n"],"sourceRoot":""}